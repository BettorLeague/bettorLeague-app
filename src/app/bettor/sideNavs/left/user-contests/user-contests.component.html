<ion-toolbar>
  <ion-title style="text-align: center">
    Mes concours
  </ion-title>
</ion-toolbar>

<ion-segment (ionChange)="segmentChanged($event)" color="tertiary">
  <ion-segment-button value="public" checked>
    <ion-badge color="light">{{ publicContests.length }}</ion-badge>
    Public
  </ion-segment-button>
  <ion-segment-button value="private">
    <ion-badge color="light">{{ privateContests.length }}</ion-badge>
    Privé
  </ion-segment-button>
</ion-segment>

<div [ngSwitch]="switchContestType">
  <!-- PUBLIC CONTESTS -->
  <div *ngSwitchCase="'public'">
    <ion-item-group *ngIf="publicContests.length">
      <ion-list inset="true" lines="inset">
        <ion-item *ngFor="let contest of publicContests">
          <ion-thumbnail slot="start">
            <app-blason style="position: absolute; top: 50%; transform: translateY(-50%)" [width]="'60px'" [height]="'60px'"
              [logo]="contest.competition.logo"></app-blason>
          </ion-thumbnail>
          <ion-label>
            <h2 class="contestName">{{ contest.caption }}</h2>
            <h3 class="contestName">{{ contest.competition.name }}</h3>
            <p class="contestName"> Created by {{ contest.owner.username }}</p>
            <p class="contestName">{{ contest.numberOfPlayers }} players</p>
          </ion-label>
          <!-- <ion-badge slot="end" color="primary">{{ contest.numberOfPlayers }}</ion-badge> -->
        </ion-item>
      </ion-list>
    </ion-item-group>

    <div *ngIf="!publicContests.length" class="noContestSection">
      <ion-grid>
        <ion-row>
          <ion-text color="medium">
            Aucun résultat...
          </ion-text>
        </ion-row>
      </ion-grid>
    </div>
  </div>

  <!-- PRIVATE CONTESTS -->
  <div *ngSwitchCase="'private'">
    <ion-item-group *ngIf="privateContests.length">
      <ion-list inset="true" lines="inset">
        <ion-item *ngFor="let contest of privateContests">
          <ion-thumbnail slot="start">
            <app-blason style="position: absolute; top: 50%; transform: translateY(-50%)" [width]="'60px'" [height]="'60px'"
              [logo]="contest.competition.logo"></app-blason>
          </ion-thumbnail>
          <ion-label>
            <h2 class="contestName">{{ contest.caption }}</h2>
            <h3 class="contestName">{{ contest.competition.name }}</h3>
            <p class="contestName"> Created by {{ contest.owner.username }}</p>
            <p class="contestName">{{ contest.numberOfPlayers }} players</p>
          </ion-label>
          <!-- <ion-badge slot="end" color="primary">{{ contest.numberOfPlayers }}</ion-badge> -->
        </ion-item>
      </ion-list>
    </ion-item-group>
    <div *ngIf="!privateContests.length" class="noContestSection">
      <ion-grid>
        <ion-row>
          <ion-text color="medium">
            Aucun résultat...
          </ion-text>
        </ion-row>
      </ion-grid>
    </div>
  </div>
</div>
